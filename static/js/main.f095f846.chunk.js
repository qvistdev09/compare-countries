(this["webpackJsonpcompare-countries"]=this["webpackJsonpcompare-countries"]||[]).push([[0],{10:function(e,a,t){e.exports=t(17)},15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),s=t.n(i),o=t(6),l=t(7),c=t(2),u=t(3),d=t(1),m=t(5),h=t(4),p=(t(15),t(16),{Afghanistan:"AF","\xc5land Islands":"AX",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT","Bolivia (Plurinational State of)":"BO","Bonaire, Sint Eustatius and Saba":"BQ","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI","Cabo Verde":"CV",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Congo, Democratic Republic of the":"CD","Cook Islands":"CK","Costa Rica":"CR","C\xf4te d'Ivoire":"CI",Croatia:"HR",Cuba:"CU","Cura\xe7ao":"CW",Cyprus:"CY",Czechia:"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Eswatini:"SZ",Ethiopia:"ET","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and McDonald Islands":"HM","Holy See":"VA",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID","Iran (Islamic Republic of)":"IR",Iraq:"IQ",Ireland:"IE","Isle of Man":"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea (Democratic People's Republic of)":"KP","Korea, Republic of":"KR",Kuwait:"KW",Kyrgyzstan:"KG","Lao People's Democratic Republic":"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX","Micronesia (Federated States of)":"FM","Moldova, Republic of":"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","North Macedonia":"MK","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW","Palestine, State of":"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA","R\xe9union":"RE",Romania:"RO","Russian Federation":"RU",Rwanda:"RW","Saint Barth\xe9lemy":"BL","Saint Helena, Ascension and Tristan da Cunha":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin (French part)":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG","Sint Maarten (Dutch part)":"SX",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS","South Sudan":"SS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY",Taiwan:"TW",Tajikistan:"TJ","Tanzania, United Republic of":"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom of Great Britain and Northern Ireland":"GB","United States Minor Outlying Islands":"UM","United States of America":"US",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU","Venezuela (Bolivarian Republic of)":"VE","Viet Nam":"VN","Virgin Islands (British)":"VG","Virgin Islands (U.S.)":"VI","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"}),g=[{name:"Sweden",topLevelDomain:[".se"],alpha2Code:"SE",alpha3Code:"SWE",callingCodes:["46"],capital:"Stockholm",altSpellings:["SE","Kingdom of Sweden","Konungariket Sverige"],region:"Europe",subregion:"Northern Europe",population:9894888,latlng:[62,15],demonym:"Swedish",area:450295,gini:25,timezones:["UTC+01:00"],borders:["FIN","NOR"],nativeName:"Sverige",numericCode:"752",currencies:[{code:"SEK",name:"Swedish krona",symbol:"kr"}],languages:[{iso639_1:"sv",iso639_2:"swe",name:"Swedish",nativeName:"svenska"}],translations:{de:"Schweden",es:"Suecia",fr:"Su\xe8de",ja:"\u30b9\u30a6\u30a7\u30fc\u30c7\u30f3",it:"Svezia",br:"Su\xe9cia",pt:"Su\xe9cia",nl:"Zweden",hr:"\u0160vedska",fa:"\u0633\u0648\u0626\u062f"},flag:"https://restcountries.eu/data/swe.svg",regionalBlocs:[{acronym:"EU",name:"European Union",otherAcronyms:[],otherNames:[]}],cioc:"SWE"},{name:"Zambia",topLevelDomain:[".zm"],alpha2Code:"ZM",alpha3Code:"ZMB",callingCodes:["260"],capital:"Lusaka",altSpellings:["ZM","Republic of Zambia"],region:"Africa",subregion:"Eastern Africa",population:15933883,latlng:[-15,30],demonym:"Zambian",area:752612,gini:54.6,timezones:["UTC+02:00"],borders:["AGO","BWA","COD","MWI","MOZ","NAM","TZA","ZWE"],nativeName:"Zambia",numericCode:"894",currencies:[{code:"ZMW",name:"Zambian kwacha",symbol:"ZK"}],languages:[{iso639_1:"en",iso639_2:"eng",name:"English",nativeName:"English"}],translations:{de:"Sambia",es:"Zambia",fr:"Zambie",ja:"\u30b6\u30f3\u30d3\u30a2",it:"Zambia",br:"Z\xe2mbia",pt:"Z\xe2mbia",nl:"Zambia",hr:"Zambija",fa:"\u0632\u0627\u0645\u0628\u06cc\u0627"},flag:"https://restcountries.eu/data/zmb.svg",regionalBlocs:[{acronym:"AU",name:"African Union",otherAcronyms:[],otherNames:["\u0627\u0644\u0627\u062a\u062d\u0627\u062f \u0627\u0644\u0623\u0641\u0631\u064a\u0642\u064a","Union africaine","Uni\xe3o Africana","Uni\xf3n Africana","Umoja wa Afrika"]}],cioc:"ZAM"},{name:"India",topLevelDomain:[".in"],alpha2Code:"IN",alpha3Code:"IND",callingCodes:["91"],capital:"New Delhi",altSpellings:["IN","Bh\u0101rat","Republic of India","Bharat Ganrajya"],region:"Asia",subregion:"Southern Asia",population:129521e4,latlng:[20,77],demonym:"Indian",area:3287590,gini:33.4,timezones:["UTC+05:30"],borders:["AFG","BGD","BTN","MMR","CHN","NPL","PAK","LKA"],nativeName:"\u092d\u093e\u0930\u0924",numericCode:"356",currencies:[{code:"INR",name:"Indian rupee",symbol:"\u20b9"}],languages:[{iso639_1:"hi",iso639_2:"hin",name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},{iso639_1:"en",iso639_2:"eng",name:"English",nativeName:"English"}],translations:{de:"Indien",es:"India",fr:"Inde",ja:"\u30a4\u30f3\u30c9",it:"India",br:"\xcdndia",pt:"\xcdndia",nl:"India",hr:"Indija",fa:"\u0647\u0646\u062f"},flag:"https://restcountries.eu/data/ind.svg",regionalBlocs:[{acronym:"SAARC",name:"South Asian Association for Regional Cooperation",otherAcronyms:[],otherNames:[]}],cioc:"IND"}];var f=function(e){return r.a.createElement("footer",{className:e.classes},r.a.createElement("p",{className:"footer-text"},"by Oscar Lindqvist"," ",r.a.createElement("a",{href:"https://qvistdev09.github.io/",target:"_blank",rel:"noopener noreferrer"},"[qvistdev09]")),r.a.createElement("i",{className:"hide screen-medium-block fas fa-circle footer-icon m-left-small m-right-small"}),r.a.createElement("p",{className:"footer-text"},"data fetched from"," ",r.a.createElement("a",{href:"https://restcountries.eu/",target:"_blank",rel:"noopener noreferrer"},"REST Countries API")))};function b(e,a){if(!e)return"n/a";switch(a){case"population":if(e>1e6){var t=e/1e6;return Math.round(10*t)/10+" mil"}if(e>1e4){var n=e/1e3;return Math.round(10*n)/10+" k"}return e;case"area":return[e.toLocaleString()+" km",r.a.createElement("span",{key:"raised-span",className:"raised"},"2")];case"gini":return e+"%";default:return e}}function v(e,a,t,n){return[r.a.createElement("i",{onClick:n,key:"sort-ascending-false",className:"fas fa-chevron-up sort-icon"+(a===e+"-false"?" active-sort":"")}),r.a.createElement("i",{onClick:t,key:"sort-ascending-true",className:"fas fa-chevron-down sort-icon"+(a===e+"-true"?" active-sort":"")})]}var C=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).setColumns=n.setColumns.bind(Object(d.a)(n)),n.setPosition=n.setPosition.bind(Object(d.a)(n)),n.headerRowGenerator=n.headerRowGenerator.bind(Object(d.a)(n)),n.dataRowGenerator=n.dataRowGenerator.bind(Object(d.a)(n)),n}return Object(u.a)(t,[{key:"setColumns",value:function(){return this.props.gridSetup.filter((function(e){return e.enabled})).map((function(e){return e.width})).reduce((function(e,a){return e+" "+a}))}},{key:"setPosition",value:function(e,a){return 0===e?"left-end":e===a?"right-end":"middle"}},{key:"headerRowGenerator",value:function(e,a,t){var n=this,i="grid-cell header-"+this.setPosition(a,t),s="header-cell-"+e.value,o=r.a.createElement("p",{className:"m-right-small table-header"},e.header),l=r.a.createElement("p",{className:"table-header"},e.header),c=v(e.value,this.props.sortStatus,(function(){return n.props.sortAction(e.value,!0)}),(function(){return n.props.sortAction(e.value,!1)}));switch(e.type){case"text":case"number":return r.a.createElement("div",{key:s,className:i},o,c);case"image":return r.a.createElement("div",{key:s,className:i},l);case"delete":return r.a.createElement("div",{key:s,className:0===this.props.gridSetup.filter((function(e){return"delete"!==e.type&&!0===e.enabled})).length?"hide ":i});default:return r.a.createElement("div",null,r.a.createElement("p",null,"Faulty cell"))}}},{key:"dataRowGenerator",value:function(e,a,t,n,i,s){var o,l=this,c=this.setPosition(t,n);i===s&&(c="last-row-"+c),o=i%2===0?"shaded-cell":"non-shaded-cell";var u=e.value+"-cell-"+a.name,d=o+" "+c+" grid-cell";switch(e.type){case"text":case"number":return r.a.createElement("div",{key:u,className:d},r.a.createElement("p",null,b(a[e.value],e.value)));case"image":return r.a.createElement("div",{key:u,className:d},r.a.createElement("img",{src:a[e.value],alt:"The flag of "+a.name}));case"delete":return r.a.createElement("div",{key:u,className:0===this.props.gridSetup.filter((function(e){return"delete"!==e.type&&!0===e.enabled})).length?"hide ":d},r.a.createElement("button",{className:"delete-button",onClick:function(){return l.props.deleteAction(a.alpha2Code)}},r.a.createElement("i",{className:"fas fa-times delete-icon"})));default:return r.a.createElement("div",null,r.a.createElement("p",null,"Incorrect cell"))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"data-grid",style:{gridTemplateColumns:this.setColumns()}},this.props.gridSetup.filter((function(e){return!0===e.enabled})).map((function(a,t,n){return e.headerRowGenerator(a,t,n.length-1)})),this.props.selectedCountries.map((function(a,t,n){return e.props.gridSetup.filter((function(e){return!0===e.enabled})).map((function(r,i,s){return e.dataRowGenerator(r,a,i,s.length-1,t,n.length-1)}))})))}}]),t}(r.a.Component);var S=function(e){return r.a.createElement("div",{className:e.classes},r.a.createElement("i",{className:"fas h1-icon fa-globe-africa m-right"}),r.a.createElement("h1",{className:"m-right"},"COMPARE COUNTRIES"))},y=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).boldReplace=n.boldReplace.bind(Object(d.a)(n)),n}return Object(u.a)(t,[{key:"boldReplace",value:function(e,a){return a.replace(new RegExp(e,"i"),"@"+e+"@").split("@").map((function(t){return t===e?r.a.createElement("strong",{key:a},a.match(new RegExp(e,"i"))):t}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"input-area",className:this.props.classes},r.a.createElement("input",{id:"search-field",type:"text",autoComplete:"off",className:this.props.suggestions.length>0?"showing-suggestions":"",placeholder:"Type to add country",onChange:this.props.onChange,onBlur:this.props.onBlur,onClick:this.props.onChange,value:this.props.input}),r.a.createElement("div",{id:"suggestions-container",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,className:0===this.props.suggestions.length?"hidden":"flex-column"},this.props.suggestions.slice(0,4).map((function(a){return r.a.createElement("div",{className:"suggestion-div flex-row justify-start align-center",key:a,onClick:function(){return e.props.add(a)}},r.a.createElement("i",{className:"fas fa-chevron-right suggestion-icon"}),r.a.createElement("p",null,e.boldReplace(e.props.input,a)))}))))}}]),t}(r.a.Component);var E=function(e){return r.a.createElement("div",{className:"tooltip"},r.a.createElement("i",{className:"fas fa-info-circle tooltip-icon"}),r.a.createElement("div",{className:"tooltip-hover"},r.a.createElement("div",{className:"tooltip-pointer"}),r.a.createElement("p",{className:"tooltip-text"},e.tooltipText)))},N=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classes},this.props.gridSetup.filter((function(e){return!1!==e.canToggle})).map((function(a){var t=!!a.graph||!!e.props.listView,n=t?"":" low-opacity";return r.a.createElement("div",{key:"checkbox-"+a.value,className:"flex-row align-center m-right"+n},r.a.createElement("i",Object.assign({className:(a.enabled?"far fa-check-square":"far fa-square")+" checkbox-icon"},t&&{onClick:function(){return e.props.toggle(a.value)}})),r.a.createElement("p",{className:"checkbox-label m-left-small"},a.header),a.tooltip&&r.a.createElement(E,{tooltipText:a.tooltip}))})))}}]),t}(r.a.Component);var k=function(e){return r.a.createElement("div",{className:e.classes+" view-switch flex-row justify-between align-stretch",onClick:e.toggleView},r.a.createElement("div",{className:"switch-icon-wrapper switch-icon-wrapper-active"},r.a.createElement("i",{className:"far fa-list-alt switch-icon"+(!0===e.listView?" switch-icon-active":"")})),r.a.createElement("div",{className:"switch-icon-wrapper"},r.a.createElement("i",{className:"fas fa-chart-bar switch-icon"+(!1===e.listView?" switch-icon-active":"")})))},w=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).makeGraphHeader=n.makeGraphHeader.bind(Object(d.a)(n)),n.makeCountryRow=n.makeCountryRow.bind(Object(d.a)(n)),n.makeGraphBars=n.makeGraphBars.bind(Object(d.a)(n)),n.setColumns=n.setColumns.bind(Object(d.a)(n)),n}return Object(u.a)(t,[{key:"setColumns",value:function(){var e=this.props.gridSetup.filter((function(e){return"number"===e.type&&!0===e.enabled})).map((function(){return"1fr"}));return e.length<1?"1fr":e.reduce((function(e,a){return e+" "+a}))}},{key:"makeGraphBars",value:function(e,a,t){for(var n=t.filter((function(e){return"number"===e.type&&!0===e.enabled})),i=[],s=function(t){if("relative"===n[t].graph){var s=a.map((function(e){return parseFloat(e[n[t].value])})).reduce((function(e,a){return a>e?a:e})),o=Math.round(parseFloat(e[n[t].value])/s*100);i.push(r.a.createElement("div",{key:n[t].value+"-bar-"+e.name,className:"example-bar",style:{width:o+"%",backgroundColor:n[t].color}},r.a.createElement("p",{className:"bar-chart-label"},b(e[n[t].value],n[t].value))))}else{var l=Math.round(parseFloat(e[n[t].value]));i.push(r.a.createElement("div",{key:n[t].value+"-bar-"+e.name,className:"example-bar",style:{width:l+"%",backgroundColor:n[t].color}},r.a.createElement("p",{className:"bar-chart-label"},b(e[n[t].value],n[t].value))))}},o=0;o<n.length;o++)s(o);return i}},{key:"makeGraphHeader",value:function(){var e=this;return[r.a.createElement("div",{key:"graph-header-cell-name",className:"grid-cell header-left-end"},r.a.createElement("p",{className:"table-header m-right-small"},"Name"),r.a.createElement("i",{onClick:function(){return e.props.sortAction("name",!1)},key:"sort-ascending-false",className:"fas fa-chevron-up sort-icon"+("name-false"===this.props.sortStatus?" active-sort":"")}),r.a.createElement("i",{onClick:function(){return e.props.sortAction("name",!0)},key:"sort-ascending-true",className:"fas fa-chevron-down sort-icon"+("name-true"===this.props.sortStatus?" active-sort":"")})),r.a.createElement("div",{key:"graph-header-cell-gap",className:"header-middle",style:{display:"grid",gridTemplateColumns:this.setColumns()}},this.props.gridSetup.filter((function(e){return"number"===e.type&&!0===e.enabled})).map((function(a){return r.a.createElement("div",{key:"graph-header-cell-"+a.header,className:"grid-cell"},r.a.createElement("div",{className:"table-header-graph m-right-small",style:{backgroundColor:a.color}}),r.a.createElement("p",{className:"table-header"},a.header),v(a.value,e.props.sortStatus,(function(){return e.props.sortAction(a.value,!0)}),(function(){return e.props.sortAction(a.value,!1)})))}))),r.a.createElement("div",{key:"graph-header-cell-delete",className:"grid-cell header-right-end"})]}},{key:"makeCountryRow",value:function(e,a,t){var n=this,i=a%2===0?" shaded-cell":"",s=a===t.length-1?"last-row-":"";return[r.a.createElement("div",{key:"name-cell-"+e.name,className:s+"left-end grid-cell"+i},r.a.createElement("p",null,e.name)),r.a.createElement("div",{key:"chart-cell-"+e.name,className:s+"middle bar-chart-cell"+i},this.makeGraphBars(e,t,this.props.gridSetup)),r.a.createElement("div",{key:"delete-cell-"+e.name,className:s+"right-end grid-cell"+i},r.a.createElement("button",{className:"delete-button",onClick:function(){return n.props.deleteAction(e.alpha2Code)}},r.a.createElement("i",{className:"fas fa-times delete-icon"})))]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"graph-grid"},this.makeGraphHeader(),this.props.selectedCountries.map((function(a,t,n){return e.makeCountryRow(a,t,n)})))}}]),t}(r.a.Component),M=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={input:"",suggestions:[],cached:g,selectedCountries:g,headerHeight:10,sortStatus:"name-false",listView:!0,gridSetup:[{type:"text",canToggle:!1,enabled:!0,value:"name",header:"Name",width:"1fr"},{type:"image",enabled:!0,value:"flag",header:"Flag",width:"1fr"},{type:"text",enabled:!0,value:"capital",header:"Capital",width:"1fr"},{type:"number",enabled:!0,value:"population",header:"Population",width:"1fr",graph:"relative",color:"#9beeff"},{type:"number",enabled:!0,value:"area",header:"Area",width:"1fr",graph:"relative",color:"#ffd98d"},{type:"text",enabled:!0,value:"demonym",header:"Demonym",width:"1fr"},{type:"number",enabled:!0,value:"gini",header:"Gini",width:"1fr",graph:"absolute",color:"#9cf89b",tooltip:"A measure of inequality of income or wealth, where 100% represents complete inequality and 0% complete equality."},{type:"delete",canToggle:!1,enabled:!0,value:"delete",header:"Delete",width:"4rem"}]},n.fetchBlock=!1,n.blurBlock=!1,n.headerObj=null,n.cKeys=Object.keys(p),n.fetchCountry=n.fetchCountry.bind(Object(d.a)(n)),n.getSuggestions=n.getSuggestions.bind(Object(d.a)(n)),n.deleteCountry=n.deleteCountry.bind(Object(d.a)(n)),n.sortCountries=n.sortCountries.bind(Object(d.a)(n)),n.adaptToHeader=n.adaptToHeader.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n.toggleViewMode=n.toggleViewMode.bind(Object(d.a)(n)),n}return Object(u.a)(t,[{key:"toggleViewMode",value:function(){console.log("hey"),this.setState((function(e){return{listView:!e.listView}}))}},{key:"componentDidMount",value:function(){var e=this,a=parseInt(getComputedStyle(document.documentElement).fontSize.slice(0,2));this.headerObj=document.getElementById("site-header"),this.setState({headerHeight:this.headerObj.offsetHeight/a},(function(){return window.addEventListener("resize",e.adaptToHeader)})),this.sortCountries()}},{key:"toggle",value:function(e){var a=this.state.gridSetup.map((function(a){if(a.value===e){var t=Object(l.a)({},a);return t.enabled=!t.enabled,t}return a}));this.setState({gridSetup:a})}},{key:"adaptToHeader",value:function(){var e=parseInt(getComputedStyle(document.documentElement).fontSize.slice(0,2));this.setState({headerHeight:this.headerObj.offsetHeight/e})}},{key:"sortCountries",value:function(e,a){0===arguments.length&&(e=this.state.sortStatus.split("-")[0],a="true"===this.state.sortStatus.split("-")[1]),console.log("attempting to sort");var t=JSON.parse(JSON.stringify(this.state.selectedCountries));a?t.sort((function(a,t){return a[e]<t[e]?1:-1})):t.sort((function(a,t){return a[e]>t[e]?1:-1})),this.setState({selectedCountries:t,sortStatus:e+"-"+a})}},{key:"deleteCountry",value:function(e){var a=this;this.state.cached.some((function(a){return a.alpha2Code===e}))?this.setState((function(a,t){return{selectedCountries:a.selectedCountries.filter((function(a){return a.alpha2Code!==e}))}}),(function(){return console.log(a.state.cached)})):this.setState((function(a){return{cached:[].concat(Object(o.a)(a.cached),Object(o.a)(a.selectedCountries.filter((function(a){return a.alpha2Code===e})))),selectedCountries:a.selectedCountries.filter((function(a){return a.alpha2Code!==e}))}}),(function(){return console.log(a.state.cached)}))}},{key:"fetchCountry",value:function(e){var a=this;if(!this.fetchBlock){var t=p[e];this.state.selectedCountries.some((function(e){return e.alpha2Code===t}))?console.log("Country already selected"):(this.fetchBlock=!0,this.state.cached.some((function(e){return e.alpha2Code===t}))?this.setState((function(e,a){return{selectedCountries:[].concat(Object(o.a)(e.selectedCountries),Object(o.a)(e.cached.filter((function(e){return e.alpha2Code===t})))),suggestions:[],input:""}}),(function(){console.log("Country collected from cache, no API call needed"),a.sortCountries(),a.fetchBlock=!1})):fetch("https://restcountries.eu/rest/v2/alpha/"+t).then((function(e){return e.json()})).then((function(e){a.setState((function(a,t){return{selectedCountries:[].concat(Object(o.a)(a.selectedCountries),[Object(l.a)({},e)]),suggestions:[],input:""}}),(function(){console.log("An API call was made"),a.sortCountries(),a.fetchBlock=!1}))})).catch((function(e){return console.log("Could not get data")})))}}},{key:"getSuggestions",value:function(e){if(!1===/[A-Za-z]/g.test(e.target.value))return this.blurBlock=!1,void this.setState({input:"",suggestions:[]});var a=e.target.value.replace(/[^A-Za-z|\s]/g,""),t=RegExp("^"+a,"i"),n=this.cKeys.filter((function(e){return t.test(e)}));if(n.length>=4)this.setState((function(e){return{input:a,suggestions:n.filter((function(a){return!e.selectedCountries.some((function(e){return e.alpha2Code===p[a]}))}))}}));else{t=RegExp(a,"i");var r=this.cKeys.filter((function(e){return t.test(e)})).filter((function(e){return!n.includes(e)}));this.setState((function(e){return{input:a,suggestions:n.concat(r).filter((function(a){return!e.selectedCountries.some((function(e){return e.alpha2Code===p[a]}))}))}}))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"site-container"},r.a.createElement("header",{id:"site-header",className:"p"},r.a.createElement("div",{className:"flex-row justify-between align-center m-bottom"},r.a.createElement(S,{classes:"m-left flex-row align-center"}),r.a.createElement("div",{className:"flex-row align-center"},r.a.createElement(k,{classes:"m-right",listView:this.state.listView,toggleView:this.toggleViewMode}),r.a.createElement(y,{classes:"m-right",suggestions:this.state.suggestions,onChange:this.getSuggestions,onBlur:function(){e.blurBlock||e.setState({suggestions:[]})},input:this.state.input,onMouseEnter:function(){e.blurBlock=!0},onMouseLeave:function(){e.blurBlock=!1},add:this.fetchCountry}))),r.a.createElement(N,{classes:"m-left flex-row align-center",gridSetup:this.state.gridSetup,toggle:this.toggle,listView:this.state.listView})),r.a.createElement("div",{id:"content-container",className:"flex-column",style:{paddingTop:this.state.headerHeight+"rem"}},r.a.createElement("div",{id:"grid-wrapper",className:"p-left p-top p-right flex-column align-stretch grow"},this.state.listView?r.a.createElement(C,{sortAction:this.sortCountries,deleteAction:this.deleteCountry,sortStatus:this.state.sortStatus,gridSetup:this.state.gridSetup,selectedCountries:this.state.selectedCountries}):r.a.createElement(w,{selectedCountries:this.state.selectedCountries,sortAction:this.sortCountries,sortStatus:this.state.sortStatus,deleteAction:this.deleteCountry,gridSetup:this.state.gridSetup}),r.a.createElement("div",{className:"grow"}),r.a.createElement(f,{classes:"flex-column screen-medium-flex-row justify-center align-center m-bottom-small m-top"}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.f095f846.chunk.js.map